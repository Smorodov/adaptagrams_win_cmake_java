<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>libavoid &mdash; Documented code example</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
<style>
pre { 
    border: dotted 1px #900; 
    padding: 5px; 
    background-color: #ffe;
}
a.anchor:hover {
    text-decoration: none;
}
</style>
</head>
<body>
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">libavoid &mdash; Documented code example </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>libavoid is a C++ library. Its code is all within the <a class="el" href="namespace_avoid.html" title="libavoid: Object-avoiding orthogonal and polyline connector routing library.">Avoid</a> namespace.</p>
<p>First, you must create an instance of the router. </p><div class="fragment"><div class="line"><a class="code" href="class_avoid_1_1_router.html">Avoid::Router</a> *router = <span class="keyword">new</span> <a class="code" href="class_avoid_1_1_router.html">Avoid::Router</a>(<a class="code" href="namespace_avoid.html#a8b398574e5b64951b7f23a36a1cdfcf4abd8248b5a3102d2b5b50c4010397de63">Avoid::PolyLineRouting</a>); </div>
<div class="ttc" id="aclass_avoid_1_1_router_html"><div class="ttname"><a href="class_avoid_1_1_router.html">Avoid::Router</a></div><div class="ttdoc">The Router class represents a libavoid router instance.</div><div class="ttdef"><b>Definition:</b> router.h:386</div></div>
<div class="ttc" id="anamespace_avoid_html_a8b398574e5b64951b7f23a36a1cdfcf4abd8248b5a3102d2b5b50c4010397de63"><div class="ttname"><a href="namespace_avoid.html#a8b398574e5b64951b7f23a36a1cdfcf4abd8248b5a3102d2b5b50c4010397de63">Avoid::PolyLineRouting</a></div><div class="ttdeci">@ PolyLineRouting</div><div class="ttdoc">This option specifies that the router should maintain the structures necessary to allow poly-line con...</div><div class="ttdef"><b>Definition:</b> router.h:74</div></div>
</div><!-- fragment --><p>To add a shape (obstacle) to the router, you first create a <a class="el" href="class_avoid_1_1_shape_ref.html" title="The ShapeRef class represents a shape object.">Avoid::ShapeRef</a> by giving the bounding box of the obstacle. This adds the shape to the router (and cause rerouting of connectors it intersects). It also passes ownership of the shapeRef object to the router instance, though it is still fine for you to keep a reference to it. </p><div class="fragment"><div class="line"><span class="comment">// Create the ShapeRef:</span></div>
<div class="line"><a class="code" href="class_avoid_1_1_rectangle.html">Avoid::Rectangle</a> rectangle(<a class="code" href="class_avoid_1_1_point.html">Avoid::Point</a>(20.0, 35.0), <a class="code" href="class_avoid_1_1_point.html">Avoid::Point</a>(40.0, 12.0));</div>
<div class="line"><a class="code" href="class_avoid_1_1_shape_ref.html">Avoid::ShapeRef</a> *shapeRef = <span class="keyword">new</span> <a class="code" href="class_avoid_1_1_shape_ref.html">Avoid::ShapeRef</a>(router, rectangle); </div>
<div class="ttc" id="aclass_avoid_1_1_point_html"><div class="ttname"><a href="class_avoid_1_1_point.html">Avoid::Point</a></div><div class="ttdoc">The Point class defines a point in the plane.</div><div class="ttdef"><b>Definition:</b> geomtypes.h:53</div></div>
<div class="ttc" id="aclass_avoid_1_1_rectangle_html"><div class="ttname"><a href="class_avoid_1_1_rectangle.html">Avoid::Rectangle</a></div><div class="ttdoc">A Rectangle, a simpler way to define the polygon for square or rectangular shapes.</div><div class="ttdef"><b>Definition:</b> geomtypes.h:357</div></div>
<div class="ttc" id="aclass_avoid_1_1_shape_ref_html"><div class="ttname"><a href="class_avoid_1_1_shape_ref.html">Avoid::ShapeRef</a></div><div class="ttdoc">The ShapeRef class represents a shape object.</div><div class="ttdef"><b>Definition:</b> shape.h:82</div></div>
</div><!-- fragment --><p> or </p><div class="fragment"><div class="line"><a class="code" href="class_avoid_1_1_polygon.html">Avoid::Polygon</a> shapePoly(3);</div>
<div class="line">shapePoly.ps[0] = <a class="code" href="class_avoid_1_1_point.html">Avoid::Point</a>(1.0, 1.0);</div>
<div class="line">shapePoly.ps[1] = <a class="code" href="class_avoid_1_1_point.html">Avoid::Point</a>(2.5, 1.5);</div>
<div class="line">shapePoly.ps[2] = <a class="code" href="class_avoid_1_1_point.html">Avoid::Point</a>(1.5, 2.5);</div>
<div class="line"><a class="code" href="class_avoid_1_1_shape_ref.html">Avoid::ShapeRef</a> *shapeRef = <span class="keyword">new</span> <a class="code" href="class_avoid_1_1_shape_ref.html">Avoid::ShapeRef</a>(router, shapePoly); </div>
<div class="ttc" id="aclass_avoid_1_1_polygon_html"><div class="ttname"><a href="class_avoid_1_1_polygon.html">Avoid::Polygon</a></div><div class="ttdoc">A dynamic Polygon, to which points can be easily added and removed.</div><div class="ttdef"><b>Definition:</b> geomtypes.h:208</div></div>
</div><!-- fragment --><p>The relevant prototypes (all in the <a class="el" href="namespace_avoid.html" title="libavoid: Object-avoiding orthogonal and polyline connector routing library.">Avoid</a> namespace) are as follows. If a shape ID is specified, it should be non-zero and unique among all shapes and connectors. </p><div class="fragment"><div class="line"><a class="code" href="class_avoid_1_1_rectangle.html">Avoid::Rectangle</a>(<span class="keyword">const</span> <a class="code" href="class_avoid_1_1_point.html">Avoid::Point</a>&amp; topLeft, <span class="keyword">const</span> <a class="code" href="class_avoid_1_1_point.html">Avoid::Point</a>&amp; bottomRight);</div>
<div class="line"><a class="code" href="class_avoid_1_1_rectangle.html">Avoid::Rectangle</a>(<span class="keyword">const</span> <a class="code" href="class_avoid_1_1_point.html">Avoid::Point</a>&amp; centre, <span class="keyword">const</span> <span class="keywordtype">double</span> width, <span class="keyword">const</span> <span class="keywordtype">double</span> height);</div>
<div class="line"><a class="code" href="class_avoid_1_1_shape_ref.html">Avoid::ShapeRef</a>(<a class="code" href="class_avoid_1_1_router.html">Avoid::Router</a> *router, <span class="keyword">const</span> <a class="code" href="class_avoid_1_1_polygon.html">Avoid::Polygon</a>&amp; polygon, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <span class="keywordtype">id</span> = 0); </div>
</div><!-- fragment --><p>To move or resize a shape already in the router, you do the following: </p><div class="fragment"><div class="line">router-&gt;<a class="code" href="class_avoid_1_1_router.html#a766c0dd498c38822cf9ea7c77af28b3d">moveShape</a>(shapeRef, newPolygon); </div>
<div class="ttc" id="aclass_avoid_1_1_router_html_a766c0dd498c38822cf9ea7c77af28b3d"><div class="ttname"><a href="class_avoid_1_1_router.html#a766c0dd498c38822cf9ea7c77af28b3d">Avoid::Router::moveShape</a></div><div class="ttdeci">void moveShape(ShapeRef *shape, const Polygon &amp;newPoly, const bool first_move=false)</div><div class="ttdoc">Move or resize an existing shape within the router scene.</div><div class="ttdef"><b>Definition:</b> router.cpp:360</div></div>
</div><!-- fragment --><p> or </p><div class="fragment"><div class="line"><span class="keywordtype">double</span> xmove = 20, ymove = 15;</div>
<div class="line">router-&gt;<a class="code" href="class_avoid_1_1_router.html#a766c0dd498c38822cf9ea7c77af28b3d">moveShape</a>(shapeRef, xmove, ymove); </div>
</div><!-- fragment --><p>In its default mode the router will queue multiple shape movements and perform the changes to the visibility graph in an optimised order. Thus you make several calls to <a class="el" href="class_avoid_1_1_router.html#a766c0dd498c38822cf9ea7c77af28b3d" title="Move or resize an existing shape within the router scene.">Avoid::Router::moveShape()</a> for different shapes and then tell the router to process the moves. This tend to be useful in interactive applications where the user may move multiple shapes at once. </p><div class="fragment"><div class="line">router-&gt;<a class="code" href="class_avoid_1_1_router.html#a766c0dd498c38822cf9ea7c77af28b3d">moveShape</a>(shapeRef1, newPolygon1);</div>
<div class="line">router-&gt;<a class="code" href="class_avoid_1_1_router.html#a766c0dd498c38822cf9ea7c77af28b3d">moveShape</a>(shapeRef2, newPolygon2);</div>
<div class="line">router-&gt;<a class="code" href="class_avoid_1_1_router.html#ac4497126d8d4c76a122af565260941fc">processTransaction</a>();</div>
<div class="ttc" id="aclass_avoid_1_1_router_html_ac4497126d8d4c76a122af565260941fc"><div class="ttname"><a href="class_avoid_1_1_router.html#ac4497126d8d4c76a122af565260941fc">Avoid::Router::processTransaction</a></div><div class="ttdeci">bool processTransaction(void)</div><div class="ttdoc">Finishes the current transaction and processes all the queued object changes efficiently.</div><div class="ttdef"><b>Definition:</b> router.cpp:640</div></div>
</div><!-- fragment --><p>To delete a shape from the router (and reroute connectors that then have a better path) you do the following. <br  />
 </p><div class="fragment"><div class="line">router-&gt;<a class="code" href="class_avoid_1_1_router.html#a1f91cdcf5dc6ca0ec278e7943f8f21a5">deleteShape</a>(shapeRef); </div>
<div class="ttc" id="aclass_avoid_1_1_router_html_a1f91cdcf5dc6ca0ec278e7943f8f21a5"><div class="ttname"><a href="class_avoid_1_1_router.html#a1f91cdcf5dc6ca0ec278e7943f8f21a5">Avoid::Router::deleteShape</a></div><div class="ttdeci">void deleteShape(ShapeRef *shape)</div><div class="ttdoc">Delete a shape from the router scene.</div><div class="ttdef"><b>Definition:</b> router.cpp:281</div></div>
</div><!-- fragment --><p> This will cause the router to free the memory for the shapeRef. You should discard your reference to the shapeRef after this call.</p>
<p>To add a new connector to the router, you do the following: </p><div class="fragment"><div class="line"><a class="code" href="class_avoid_1_1_conn_end.html">Avoid::ConnEnd</a> srcPt(<a class="code" href="class_avoid_1_1_point.html">Avoid::Point</a>(1.2, 0.5));</div>
<div class="line"><a class="code" href="class_avoid_1_1_conn_end.html">Avoid::ConnEnd</a> dstPt(<a class="code" href="class_avoid_1_1_point.html">Avoid::Point</a>(3.0, 4.0));</div>
<div class="line"><a class="code" href="class_avoid_1_1_conn_ref.html">Avoid::ConnRef</a> *connRef = <span class="keyword">new</span> <a class="code" href="class_avoid_1_1_conn_ref.html">Avoid::ConnRef</a>(router, srcPt, dstPt); </div>
<div class="ttc" id="aclass_avoid_1_1_conn_end_html"><div class="ttname"><a href="class_avoid_1_1_conn_end.html">Avoid::ConnEnd</a></div><div class="ttdoc">The ConnEnd class represents different possible endpoints for connectors.</div><div class="ttdef"><b>Definition:</b> connend.h:111</div></div>
<div class="ttc" id="aclass_avoid_1_1_conn_ref_html"><div class="ttname"><a href="class_avoid_1_1_conn_ref.html">Avoid::ConnRef</a></div><div class="ttdoc">The ConnRef class represents a connector object.</div><div class="ttdef"><b>Definition:</b> connector.h:132</div></div>
</div><!-- fragment --><p> This passes ownership of the connRef object to the router instance, though it is still fine for you to keep a reference to it.</p>
<p>To remove a connector from the router: </p><div class="fragment"><div class="line">router-&gt;<a class="code" href="class_avoid_1_1_router.html#a316f15b3e974c273bb55cfb19b751394">deleteConnector</a>(connRef); </div>
<div class="ttc" id="aclass_avoid_1_1_router_html_a316f15b3e974c273bb55cfb19b751394"><div class="ttname"><a href="class_avoid_1_1_router.html#a316f15b3e974c273bb55cfb19b751394">Avoid::Router::deleteConnector</a></div><div class="ttdeci">void deleteConnector(ConnRef *connector)</div><div class="ttdoc">Remove a connector from the router scene.</div><div class="ttdef"><b>Definition:</b> router.cpp:312</div></div>
</div><!-- fragment --><p> This will cause the router to free the memory for the connRef. You should discard your reference to the connRef after this call.</p>
<p>You can set a function to be called when the connector needs to be redrawn. When called, this function will be passed the pointer given as a second argument to <a class="el" href="class_avoid_1_1_conn_ref.html#a9d1a26643759adbb84f350285ce42d64" title="Sets a callback function that will called to indicate that the connector needs rerouting.">Avoid::ConnRef::setCallback()</a>: </p><div class="fragment"><div class="line"><span class="keywordtype">void</span> connCallback(<span class="keywordtype">void</span> *ptr)</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="class_avoid_1_1_conn_ref.html">Avoid::ConnRef</a> *connRef = (<a class="code" href="class_avoid_1_1_conn_ref.html">Avoid::ConnRef</a> *) ptr;</div>
<div class="line">    printf(<span class="stringliteral">&quot;Connector %u needs rerouting!\n&quot;</span>, connRef-&gt;<a class="code" href="class_avoid_1_1_conn_ref.html#a053841a1fdef00b1e90f20f563e1c259">id</a>());</div>
<div class="line">}</div>
<div class="line">connRef-&gt;<a class="code" href="class_avoid_1_1_conn_ref.html#a9d1a26643759adbb84f350285ce42d64">setCallback</a>(connCallback, connRef); </div>
<div class="ttc" id="aclass_avoid_1_1_conn_ref_html_a053841a1fdef00b1e90f20f563e1c259"><div class="ttname"><a href="class_avoid_1_1_conn_ref.html#a053841a1fdef00b1e90f20f563e1c259">Avoid::ConnRef::id</a></div><div class="ttdeci">unsigned int id(void) const</div><div class="ttdoc">Returns the ID of this connector.</div><div class="ttdef"><b>Definition:</b> connector.cpp:677</div></div>
<div class="ttc" id="aclass_avoid_1_1_conn_ref_html_a9d1a26643759adbb84f350285ce42d64"><div class="ttname"><a href="class_avoid_1_1_conn_ref.html#a9d1a26643759adbb84f350285ce42d64">Avoid::ConnRef::setCallback</a></div><div class="ttdeci">void setCallback(void(*cb)(void *), void *ptr)</div><div class="ttdoc">Sets a callback function that will called to indicate that the connector needs rerouting.</div><div class="ttdef"><b>Definition:</b> connector.cpp:775</div></div>
</div><!-- fragment --><p>The callback will be triggered by movement, addition and deletion of shapes, as well as by adjustment of the connector endpoints, or by processing a transaction that includes any of these events. You can check if a connector path has changed, and hence the object requires repainting (say because a better path is available due to a shape being deleted): </p><div class="fragment"><div class="line"><span class="keywordflow">if</span> (connRef-&gt;<a class="code" href="class_avoid_1_1_conn_ref.html#a6bf1308dc90317be00acf1fc01c1d276">needsRepaint</a>()) ... </div>
<div class="ttc" id="aclass_avoid_1_1_conn_ref_html_a6bf1308dc90317be00acf1fc01c1d276"><div class="ttname"><a href="class_avoid_1_1_conn_ref.html#a6bf1308dc90317be00acf1fc01c1d276">Avoid::ConnRef::needsRepaint</a></div><div class="ttdeci">bool needsRepaint(void) const</div><div class="ttdoc">Returns an indication of whether this connector has a new route and thus needs to be repainted.</div><div class="ttdef"><b>Definition:</b> connector.cpp:671</div></div>
</div><!-- fragment --><p>If you want to trigger the callback for a connector after moving its endpoints (or when it is first created you can do this via: </p><div class="fragment"><div class="line">connRef-&gt;processTransaction(); </div>
</div><!-- fragment --><p>You can then get the new path as follows:</p>
<div class="fragment"><div class="line"><span class="keyword">const</span> <a class="code" href="class_avoid_1_1_polygon.html">Avoid::PolyLine</a> route = connRef-&gt;dispayRoute();</div>
<div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &amp;lt; route.<a class="code" href="class_avoid_1_1_polygon.html#a2f9e9c8c78407eefbde944e663d9711e">size</a>(); ++i) </div>
<div class="line">{</div>
<div class="line">    <a class="code" href="class_avoid_1_1_point.html">Avoid::Point</a> point = route.<a class="code" href="class_avoid_1_1_polygon.html#ab2772d0cf1d0aad817a9814e20fce5ab">at</a>(i);</div>
<div class="line">    printf(<span class="stringliteral">&quot;%f, %f\n&quot;</span>, point.<a class="code" href="class_avoid_1_1_point.html#ae5f6929ae6c39393e4409485461c3fe3">x</a>, point.<a class="code" href="class_avoid_1_1_point.html#a518b9e1306fb14416e457ed23b9b8cee">y</a>);</div>
<div class="line">} </div>
<div class="ttc" id="aclass_avoid_1_1_point_html_a518b9e1306fb14416e457ed23b9b8cee"><div class="ttname"><a href="class_avoid_1_1_point.html#a518b9e1306fb14416e457ed23b9b8cee">Avoid::Point::y</a></div><div class="ttdeci">double y</div><div class="ttdoc">The y position.</div><div class="ttdef"><b>Definition:</b> geomtypes.h:109</div></div>
<div class="ttc" id="aclass_avoid_1_1_point_html_ae5f6929ae6c39393e4409485461c3fe3"><div class="ttname"><a href="class_avoid_1_1_point.html#ae5f6929ae6c39393e4409485461c3fe3">Avoid::Point::x</a></div><div class="ttdeci">double x</div><div class="ttdoc">The x position.</div><div class="ttdef"><b>Definition:</b> geomtypes.h:107</div></div>
<div class="ttc" id="aclass_avoid_1_1_polygon_html_a2f9e9c8c78407eefbde944e663d9711e"><div class="ttname"><a href="class_avoid_1_1_polygon.html#a2f9e9c8c78407eefbde944e663d9711e">Avoid::Polygon::size</a></div><div class="ttdeci">size_t size(void) const</div><div class="ttdoc">Returns the number of points in this polygon.</div><div class="ttdef"><b>Definition:</b> geomtypes.cpp:378</div></div>
<div class="ttc" id="aclass_avoid_1_1_polygon_html_ab2772d0cf1d0aad817a9814e20fce5ab"><div class="ttname"><a href="class_avoid_1_1_polygon.html#ab2772d0cf1d0aad817a9814e20fce5ab">Avoid::Polygon::at</a></div><div class="ttdeci">const Point &amp; at(size_t index) const</div><div class="ttdoc">Returns a specific point in the polygon.</div><div class="ttdef"><b>Definition:</b> geomtypes.cpp:390</div></div>
</div><!-- fragment --><p>Obviously the alternative to using the callback mechanism is to iterate through all connectors and check their needsRepaint() value after having called processTransaction().</p>
<p>You can update the endpoints of a connector with: </p><div class="fragment"><div class="line"><a class="code" href="class_avoid_1_1_conn_end.html">Avoid::ConnEnd</a> newSrcPt(<a class="code" href="class_avoid_1_1_point.html">Avoid::Point</a>(6, 3));</div>
<div class="line"><a class="code" href="class_avoid_1_1_conn_end.html">Avoid::ConnEnd</a> newDstPt(<a class="code" href="class_avoid_1_1_point.html">Avoid::Point</a>(12, 67));</div>
<div class="line">connRef-&gt;<a class="code" href="class_avoid_1_1_conn_ref.html#ae66e8c90dc191951fc0f64acc4c06d7c">setEndpoints</a>(newSrcPt, newDstPt); </div>
<div class="ttc" id="aclass_avoid_1_1_conn_ref_html_ae66e8c90dc191951fc0f64acc4c06d7c"><div class="ttname"><a href="class_avoid_1_1_conn_ref.html#ae66e8c90dc191951fc0f64acc4c06d7c">Avoid::ConnRef::setEndpoints</a></div><div class="ttdeci">void setEndpoints(const ConnEnd &amp;srcPoint, const ConnEnd &amp;dstPoint)</div><div class="ttdoc">Sets both a new source and destination endpoint for this connector.</div><div class="ttdef"><b>Definition:</b> connector.cpp:323</div></div>
</div><!-- fragment --><p> or </p><div class="fragment"><div class="line"><a class="code" href="class_avoid_1_1_conn_end.html">Avoid::ConnEnd</a> newSrcPt(<a class="code" href="class_avoid_1_1_point.html">Avoid::Point</a>(6, 3));</div>
<div class="line">connRef-&gt;<a class="code" href="class_avoid_1_1_conn_ref.html#a45ab41f9847a610ba17a326cd05cb266">setSourceEndpoint</a>(newSrcPt);</div>
<div class="line"> </div>
<div class="line"><a class="code" href="class_avoid_1_1_conn_end.html">Avoid::ConnEnd</a> newDstPt(<a class="code" href="class_avoid_1_1_point.html">Avoid::Point</a>(6, 3));</div>
<div class="line">connRef-&gt;<a class="code" href="class_avoid_1_1_conn_ref.html#a7b216c9aa42811f1f2786adbda84f02e">setDestEndpoint</a>(newDstPt); </div>
<div class="ttc" id="aclass_avoid_1_1_conn_ref_html_a45ab41f9847a610ba17a326cd05cb266"><div class="ttname"><a href="class_avoid_1_1_conn_ref.html#a45ab41f9847a610ba17a326cd05cb266">Avoid::ConnRef::setSourceEndpoint</a></div><div class="ttdeci">void setSourceEndpoint(const ConnEnd &amp;srcPoint)</div><div class="ttdoc">Sets just a new source endpoint for this connector.</div><div class="ttdef"><b>Definition:</b> connector.cpp:336</div></div>
<div class="ttc" id="aclass_avoid_1_1_conn_ref_html_a7b216c9aa42811f1f2786adbda84f02e"><div class="ttname"><a href="class_avoid_1_1_conn_ref.html#a7b216c9aa42811f1f2786adbda84f02e">Avoid::ConnRef::setDestEndpoint</a></div><div class="ttdeci">void setDestEndpoint(const ConnEnd &amp;dstPoint)</div><div class="ttdoc">Sets just a new destination endpoint for this connector.</div><div class="ttdef"><b>Definition:</b> connector.cpp:342</div></div>
</div><!-- fragment --><p>You can also create connection pins on shapes and attach connectors directly to these. Then when you move or resize the shapes, the connector endpoints attached to them will be automatically rerouted.</p>
<p>You can create a connection pin as follows: </p><div class="fragment"><div class="line"><span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> CENTRE = 1;</div>
<div class="line"><span class="keyword">new</span> <a class="code" href="class_avoid_1_1_shape_connection_pin.html">Avoid::ShapeConnectionPin</a>(shapeRef, CENTRE, Avoid::ATTACH_POS_CENTRE, Avoid::ATTACH_POS_CENTRE); </div>
<div class="ttc" id="aclass_avoid_1_1_shape_connection_pin_html"><div class="ttname"><a href="class_avoid_1_1_shape_connection_pin.html">Avoid::ShapeConnectionPin</a></div><div class="ttdoc">The ShapeConnectionPin class represents a fixed point or &quot;pin&quot; on a shape that can be connected to.</div><div class="ttdef"><b>Definition:</b> connectionpin.h:97</div></div>
</div><!-- fragment --><p> This one connects to the centre of the shape, but the position can be specified anywhere within the shape as a proportion of the shape's width and height. <br  />
</p>
<p>You can then attach a connector to the connection pin be doing the following: </p><div class="fragment"><div class="line"><a class="code" href="class_avoid_1_1_conn_end.html">Avoid::ConnEnd</a> newSrcPt(shapeRef, CENTRE);</div>
<div class="line">connRef-&gt;<a class="code" href="class_avoid_1_1_conn_ref.html#a45ab41f9847a610ba17a326cd05cb266">setSourceEndpoint</a>(newSrcPt); </div>
</div><!-- fragment --><p>See also a short example: example.cpp in the libavoid/tests directory </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Oct 16 2022 11:28:25 for libavoid by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
